var SIH=function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=76)}([function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e=decodeURI(e);var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function n(e){return new Promise(function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()})}function s(){var e=i(window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var t=e.pathname.split("/");return{appId:t[3],marketHashName:t[4],location:e}}return{}}function o(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=i,t.getPriceFromSteam=n,t.getPageParams=s,a.d(t,"localStorageJSON",function(){return d}),a.d(t,"App",function(){return c}),t.formatNumber=o,a.d(t,"CardsPrice",function(){return l}),a.d(t,"Currency",function(){return f});var d={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return null}}},c={getManifest:function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)}).then(function(e){return e.data})}},l=function(){function e(){r(this,e)}return e.sendCardData=function(e,t,a,r){try{var i=JSON.parse(JSON.stringify(e));if(!t||753!==t||5!==r)return!1;if(!g_steamID)return!1;if(0===i.length)return;i.length>5?i.length=5:i.length;for(var n=[],s=i.length-1;s>=0;s--){var o=i[s][0],d=0!==s?i[s][1]-i[s-1][1]:i[s][1];n.unshift({price:o,count:d})}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_CARD_STEAM_PRICE",data:{hash_name:a,prices:n,steamid:g_steamID}})}catch(e){}},e}(),f=function(){function e(){r(this,e)}return e.getPriceFromCurrency=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.getCurrency(+a),n=e.getCurrency(+r),s=ExchangeRates._rates[i.strCode],o=ExchangeRates._rates[n.strCode];return"USD"===n.strCode?"USD"!=i.strCode&&(t*=s)<.03&&(t=.03):n.strCode!=i.strCode&&(t=t/o*s)<.03&&(t=.03),{price:t,code:i.strCode,symbol:i.strSymbol,text:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+(t?t.toFixed(2):0)+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),template:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+"$price"+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),symbolPosition:i.bSymbolIsPrefix?"before":"after"}},e.getCurrency=function(e){var t=null;e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1;for(var a in g_rgCurrencyData)if(g_rgCurrencyData[a].eCurrencyCode===+e){t=g_rgCurrencyData[a];break}return t},e.getCurrencyCodeSteam=function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1},e}()},,function(e,t,a){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=s();e?(t.length=e,t.addClass("single_price_loaded active_single_trade"),H=t.find(".trade_item").length):H=t.find(".trade_item").length}function i(e,t,a,r){L++;var i=0,n=1;if(t){if(e.rgItem=w({},t,{prefix:a}),$J(e).addClass("app"+e.rgItem.appid),"730"===e.rgItem.appid)for(var s=e.rgItem.descriptions,o=Array.isArray(s),d=0,s=o?s:s[Symbol.iterator]();;){var f;if(o){if(d>=s.length)break;f=s[d++]}else{if(d=s.next(),d.done)break;f=d.value}var p=f;if(p.value.includes("sticker_info")){var u=p.value,_=$J.parseHTML(u);i=$J(_[1]).find("img").length;var v='<div class="sih_trade_item_sticker">\n                            <span>'+i+"</span>\n                         </div>";$J(e).append(v)}}var h=e.rgItem.appid;0!==M.length&&M.includes(h)||M.push(h);var m=$J(".sih_tradeoffer.active_single_trade");if(m.length>=1){var J=[];m.each(function(e,t){var a=$J(t);M.forEach(function(e){0!==a.find("div.item.app"+e).length&&(J.includes(e)||J.push(e))})}),M=J}L===H&&(r.name&&"steam"===r.name.toLowerCase()?$J(M).each(function(e,t){P.includes(t)?(r.nameForApi="steamprices",MarketplaceSource.GetPrices(t,{market:r.name,currencies:[],nameMarkerForApi:r.nameForApi,marketSort:r.sort},!1,!0,function(){if(n!==M.length)n++;else{var e=c();e.isSteamBySIHLoaded=!0,l(e)}})):SteamBySihSource.GetPrices(t,{market:r.name,marketSort:r.sort},!1,function(){if(n!==M.length)n++;else{var e=c();e.isSteamBySIHLoaded=!0,l(e)}},!0,!1,!0)}):$J(M).each(function(e,t){MarketplaceSource.GetPrices(t,{market:r.name,currencies:[],nameMarkerForApi:r.nameForApi,marketSort:r.sort},!1,!0,function(){if(n!==M.length)n++;else{var e=c();e.isMarketLoaded=!0,l(e)}})}))}}function n(){return["steam","buff163","dmarket","bitskins","skinport","mannco"]}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return H=e.find(".trade_item").length,e;var t=$J(".tradeoffer.single_price_loaded");if(0===t.length){var a=$J(".tradeoffer");return H=a.find(".trade_item").length,a}return H=t.find(".trade_item").length,t}function o(e,t){var a=void 0,r=$J(e).parent().parent().find(".offer_price"),i=$J(e).parent().parent().find(".steam-total-price"),n=RegExp("[0-9]*[.,]?[0-9]+"),s=t.lowestPrice.match(n);s=s?s[0].replace(/,/g,"."):0,1===r.length?(a=0,a+=+s,$J(r).replaceWith('<span class="text steam-total-price">'+a.toFixed(2)+"</span>")):(a=+$J(i).text(),a+=+s,$J(i).text(a.toFixed(2)))}function d(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];if(e.rgItem)return void(a?i(e,e.rgItem,e.rgItem.prefix,r):(e.inited=!0,$(e.rgItem.prefix,e.rgItem,e)));var n=t.split("/");if(5===n.length&&n.pop(),3==n.length||4==n.length){a||(e.inited=!0);var s=null,o=n[0];if("classinfo"==o){o=n[1];s="economy/itemclasshover/"+o+"/"+n[2]+"/"+(n.length>3?n[3]:0),s+="?content_only=1&l=english"}else{var d=n[1],c=n[2];if(null!=b[o+"/"+d+"/"+c])return;var s="economy/itemhover/"+o+"/"+d+"/"+c;if(s+="?content_only=1&omit_owner=1&l=english",4==n.length&&n[3]){var l=n[3];0==l.indexOf("id:")?s+="&o_url="+l.substr(3):s+="&o="+l}}$J.ajax({url:window.location.protocol+"//steamcommunity.com/"+s,cache:!0,data:{l:"english"}}).done(function(t){var n=/BuildHover\( '(.*)', (.*)\);/i.exec(t);if(null!==n){var s=n[1],o=JSON.parse(n[2]);a?i(e,o,s,r):$(s,o,e)}}).error(function(t){i(e,null,null,r)})}}function c(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function l(e){var t=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",t)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();setTimeout(function(){t.find(".animated-background").fadeOut(),t.find(".animated-background-profit").fadeOut(),t.find(".p-price").show(),t.find(".rule_total_price").css("opacity",1),t.find(".icons").css("opacity",1),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",1),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",1),$J(t).children(".text").css("opacity",1)})},500)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();window.location.href.includes("history")&&t.length>x&&(t.length=x),t.find(".animated-background").fadeIn(),t.find(".animated-background-profit").fadeIn(),t.find(".p-price").hide(),t.find(".sih_tradeoffer_items_rule_percent span").height(50),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",0),t.find(".rule_total_price").css("opacity",0),t.find(".icons").css("opacity",0),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",0),$J(t).children(".text").css("opacity",0)})}function u(){s().each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent");"100"===a[0].dataset.profitPercent&&a.hasClass("profit")?$J(t).addClass("profit"):$J(t).removeClass("profit")})}function _(){var e=void 0;return $J(".rightcol_controls_content").each(function(t,a){0===t&&(e=$J(a).outerHeight())}),e}function v(){var e=window.location.href,t=$J("body").html();if(e.includes("history")||e.includes("sent")){if(!e.includes("sent")){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/?history=1",txtResponse:t}})}}else{chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers",txtResponse:t}})}}function h(){$J(".tradeoffer_footer").find("a").click(function(){var e=$J(this).attr("href");if(e.match(/DeclineTradeOffer/g)){var t=e.match(/\d+/g)[0];setTimeout(function(){$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){chrome.runtime.sendMessage(window.SIHID,{type:"TradeCancel",data:{offerId:t}})})},100)}})}function m(e,t){for(var a=0;a<t.length;a++)if(e.includes(t[a])){var r=t[a].replace(/\\u/,"").trim(),i=String.fromCharCode(parseInt(r,16));e=e.replace(t[a],i)}return e}function J(){var e=null;$J("#create_new_url_btn").click(function(){setTimeout(function(){var t=$J("#trade_offer_access_url").val();$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){e=setInterval(function(){var a=$J("#trade_offer_access_url").val();t!==a&&(clearInterval(e),chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:a}}))},100)})},100)})}function g(e,t){(null!==t&&void 0!==t?t:$J('div[data-economy-item*="'+e.appid+"/"+e.classid+(e.instanceid?"/"+e.instanceid:"")+'"]')).parent(".tradeoffer_item_list").each(function(e,t){var a=$J(this),r=a.find(".total_price"),i=0,n=0,s=0,o=0;a.find(".trade_item").each(function(e){o++;var t=this.rgItem;if(t){if(t.lowestPrice){var a=parseInt(100*parseFloat(getPriceAsInt(t.lowestPrice))),r=window.PriceUtils.publisherFee(t,g_rgWalletInfo,.1),c=CalculateFeeAmount(a,r);n+=(a-c.fees)/100,i+=parseFloat(getPriceAsInt(t.lowestPrice))}"undefined"!=t.gemPrices&&null!=t.gemPrices&&$J.each(t.gemPrices,function(e,t){s+=parseFloat(getPriceAsInt(t.lowestPrice))})}null==this.inited&&d(this,$J(this).attr("data-economy-item"))});var c=formatNumberV2(i)+" ("+formatNumberV2(n)+")";s>0&&(c+=" - Gems total price: "+formatNumberV2(s)),c+=' <span style="float: right; padding-right: 15px">'+o+" item(s)</span>",a.find(".price-flag.no-price").length>0&&r.addClass("warning"),r.html(c)})}function $(e,t,a){var r=$J(a).children(".p-price"),i=$J(r).find(".price_flag.original");if(!t.marketable){$J(i).fadeOut("slow");var n=$J('<div class="price_flag"><span>&nbsp No price</span></div>');return n.addClass("no-price"),void $J(a).children(".p-price").prepend(n)}getLowestPriceHandler(t,e,function(e){var t=$J(a).children(".p-price");t.css("display","flex").show();var r=$J(t).find(".price_flag.original");0==t.find(".price-flag").length&&(setTimeout(function(){$J(r).attr("data-price",""+e.lowestPrice),$J(r).find(".animated-background.silver").fadeOut("slow")},500),g(e,t),o(a,e))}),b[t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")]=t,$J('div[data-economy-item*="'+t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")+'"]').each(function(e,a){this.rgItem=t})}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"Steam",sort:13}),n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;L=0;var o=c();if(e)e.find(".trade_item").each(function(){var e=this;if(null==e.inited){d(e,$J(e).attr("data-economy-item"));var a=$J(e).find(".p-price");$J(a).prepend('<div class="price_flag original"><span class="animated-background silver small fake-price"></span></div>')}else t&&(e.inited=null,d(e,$J(e).attr("data-economy-item")))});else{if(n){var l=s(n);l.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,i,l)})}else{var f=s();window.location.href.includes("history")&&(f.length>x&&(f.length=x),r(f.length)),f.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,i)})}if(!o.isMarketLoaded&&i.name&&"steam"===i.name.toLowerCase())var p=setInterval(function(){var e=c();e.isSteamBySIHLoaded&&(clearInterval(p),"steam"!==e.market&&a.i(k.SetPriceForItemsActiveMarket)(e.market,n),I(n))},100);else I(n)}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=setInterval(function(){var r=c();r.isMarketLoaded&&"steam"!==r.market&&ExchangeRates._rates?(clearInterval(t),a.i(k.AfterResponse)(r.market),f(e),u()):r.isSteamBySIHLoaded&&"steam"===r.market&&ExchangeRates._rates&&(clearInterval(t),a.i(k.AfterResponse)(r.market),f(e),u())},100)}function y(){setTimeout(function(){$J(".accept_trade").click(function(){if($J(this).prop("disabled"))return!1;var e=$J(this).parent().parent().parent(),t=$J(e).prop("id").substring(13);if(_tradesTimers[t])return window.clearInterval(_tradesTimers[t].timer),_tradesTimers[t]=null,$J(this).html("Quick accept"),!1;if(window.quickacceptprompt&&!confirm("Are you sure?"))return!1;if(window.qadelay)_tradesTimers[t]={timer:window.setInterval(function(){return F(t)},1e3),remain:window.qadelay},$J(this).html("Cancel "+(window.qadelay<10?"0":"")+window.qadelay);else if(0==window.qadelay){var a=$J(this);a.html("Accepting..."),a.prop("disabled",!0),T(t)}return!1})},200)}Object.defineProperty(t,"__esModule",{value:!0}),t.GetMarkets=n,t.GetLimitedTradeofferList=s,t.GetDataFromLocalStorage=c,t.SetDataToLocalStorage=l,t.AddPreloadersAndHideBlocks=p,t.GetHeightFirstRightControlsContent=_,t.sendTradeofferTxtToBackground=v,t.removeDeclinedOfferFromSihWindow=h,t.getHexFromUnicode=m,t.sendTradeLinkToBackground=J,t.GetAllPrice=S,t.InitializationFastAcceptTrade=y;var C=a(110),k=(a.n(C),a(6)),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b={},x=10,L=0,P=["730","570","440","252490"],M=[],H=void 0;r();var F=function(e){if(_tradesTimers[e]){var t=_tradesTimers[e].remain,a=$J("#tradeofferid_"+e).find(".accept_trade");0==t?(a.html("Accepting..."),a.prop("disabled",!0),window.clearInterval(_tradesTimers[e].timer),T(e)):(t--,_tradesTimers[e].remain=t,a.html("Cancel "+(t<10?"0":"")+t))}},T=function(e){_openedWins[e]=window.open("https://steamcommunity.com/tradeoffer/"+e+"/?sihaccept="+g_sessionID,"HiddenTradeOffer"+e,"height=10,width=10,resize=yes,scrollbars=yes"),_openedWins[e]&&!_openedWins[e].closed&&void 0!==_openedWins[e].closed||alert("Popup accept blocked. For auto-accept trades to work correctly, allow popups for steamcommunity.com"),chrome.runtime.sendMessage(window.SIHID,{type:"TradeAccept",data:{offerId:e}})}},function(e,t,a){"use strict";function r(){m();var e=h();i(),v(),_(),S(),setTimeout(function(){n()},1),setTimeout(function(){g(e.size),c(),e.autoLoadMarketPrice&&(a.i(B.AddPreloadersAndHideBlocks)(),a.i(B.GetAllPrice)())},100),$(),O(),a.i(B.InitializationFastAcceptTrade)()}function i(){$J(".tradeoffer").addClass("sih_tradeoffer minimized")}function n(){q=$J(".tradeoffer").clone(!0,!0),$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(q),s(),W=$J(".tradeoffer_list").html(),I()}function s(){$J(".profile_leftcol > .tradeoffer").remove(),$J(".profile_leftcol > .tradeoffer_rule").remove()}function o(){$J(".tradeoffer_list").remove()}function d(){$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(W)}function c(){$J(".offer_price").each(function(e,t){$J(t).click(function(){var e=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list");a.i(B.GetAllPrice)(e),$J(this).parent().find(".icon").hasClass("reload")||$J(this).after('<a href="javascript:void(0);" class="icon reload reload-steam-price"></a>'),l()})})}function l(){$J(".reload-steam-price").each(function(e,t){$J(t).click(function(e){if(!e.isDefaultPrevented()){e.preventDefault(),PriceQueue.StopQueue();var t=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list"),r=$J(this).parent().find(".steam-total-price");1===r.length&&$J(r).text(0),$J(t).find(".trade_item").each(function(e,t){$J(t).find(".p-price").children(".price_flag.original").attr("data-price","").find(".animated-background.silver").fadeIn("slow")}),a.i(B.GetAllPrice)(t,!0)}})})}function f(){$J(".tradeoffer").addClass("full"),$J(".tradeoffer").removeClass("minimized"),$J(".tradeoffer_footer").removeClass("minimized")}function p(){$J(".tradeoffer").removeClass("full"),$J(".tradeoffer").addClass("minimized"),$J(".tradeoffer_footer").addClass("minimized")}function u(){var e=h();$J(".filter_page").each(function(t,a){if($J(a).hasClass("active")&&(!e||!e.size||e.size)){var r=$J(a).attr("class").replace(/filter_page/g,"").replace(/active/g,"").trim();e.size=r;var i=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",i)}})}function _(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isMarketLoaded=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isSteamBySIHLoaded=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function h(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function m(){var e=window.location.pathname,t=h(),r=void 0;r=t.size&&"minimized"!==t.size?a.i(G.a)():a.i(N.a)(),$J(".filter").after(r),J(),e.includes("tradetopics")||e.includes("privacy")||$J(".fake-tradeoffer").show()}function J(){var e=a.i(B.GetHeightFirstRightControlsContent)();$J(".fake-tradeoffer").css("top",e+22)}function g(e){"full"===e&&($J(".filter_page").each(function(e,t){$J(t).hasClass("full")&&$J(t).addClass("active").siblings().removeClass("active")}),o(),d(),f(),k(),y(),a.i(z.a)(),setTimeout(function(){x()},50)),b(),setTimeout(function(){$J(".fake-tradeoffer").fadeOut("slow"),$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")},300)}function $(){$J(".filter_page").each(function(e,t){var r=$J(t);r.on("click",function(){D(),setTimeout(function(){$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")},100);var e=h();$J(this).addClass("active").siblings().removeClass("active"),r.hasClass("full")?$J(".tradeoffer").hasClass("full")||(window.location.href.includes("history")?a.i(U.b)("request",!0):a.i(U.b)(),O(),u(),o(),d(),f(),k(),x(),y(),a.i(z.a)(),c(),v(),_(),e.autoLoadMarketPrice&&(a.i(B.AddPreloadersAndHideBlocks)(),a.i(B.GetAllPrice)()),a.i(V.RenderLoadMarketPriceManualSingle)(),a.i(B.InitializationFastAcceptTrade)(),b()):r.hasClass("minimized")&&($J(".tradeoffer").hasClass("minimized")||(window.location.href.includes("history")?a.i(U.b)("request",!0):a.i(U.b)(),O(),u(),o(),d(),p(),I(),v(),_(),e.autoLoadMarketPrice&&(a.i(B.AddPreloadersAndHideBlocks)(),a.i(B.GetAllPrice)()),a.i(V.RenderLoadMarketPriceManualSingle)(),a.i(B.InitializationFastAcceptTrade)(),b()))})})}function S(){$J(".tradeoffer").prepend('<div class="sih_tradeoffer_header"></div>'),$J(".sih_tradeoffer_header").append('<div class="sih_user"></div>'),P(),M()}function I(){C(),T(),A(),L(),a.i(j.ModifyItemList)(),E()}function y(){$J(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").hasClass("trade_item")||$J(t).parent().find(".tradeoffer_items_header").find(".row").remove()})}function C(){w(),x()}function k(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".sih_user");$J(a).append('<div class="sih_user_row"></div>');var r=$J(t).find(".sih_user_row"),i=$J(t).find(".tradeoffer_partner"),n=$J(t).find(".tradeoffer_header");$J(i).appendTo(r),$J(n).appendTo(r)})}function w(){$J(".tradeoffer").each(function(e,t){$J(t).find(".sih_user").append('<div class="sih_user_row"></div>');var a=$J(t).find(".sih_user_row"),r=$J(t).find(".tradeoffer_partner"),i=$J(t).find(".tradeoffer_header");r.appendTo(a),i.appendTo(a);var n=$J(t).find(".tradeoffer_expiries");$J(n).appendTo(i)})}function b(){var e=$J(location).attr("pathname");$J(".tradeoffer").each(function(t,a){var r=$J(a).find(".sih_user_row");if(e.includes("sent")){var i=$J(a).find(".tradeoffer_avatar");$J(i[1]).hasClass("tiny")&&$J(i[1]).removeClass("tiny"),$J(i[1]).prependTo(r)}})}function x(){$J(".sih_tradeoffer_header").append('<div class="column"></div>'),$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".sih_tradeoffer_header").children(".column"),r=$J(t).find(".tradeoffer_items_rule");if($J(r).hasClass("tradeoffer_items_rule"))$J(r).appendTo(a);else{$J(t).find(".tradeoffer_items.primary").after('<div class="tradeoffer_items_rule"></div>');var i=$J(t).find(".tradeoffer_items_rule");$J(i).appendTo(a)}}),H()}function L(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_header").each(function(e,t){var a=$J(t).parent().parent().parent().parent().find(".tradeoffer_message");1===a.length&&$J(t).prepend('<div class="text text_tiny text_italic text_blue message-controller">'+SIHLang.tradeoffers.show_message+"</div>"),$J(t).find(".message-controller").click(function(){var e=$J(this);a.toggleClass("show"),a.hasClass("show")?e.text(""+SIHLang.tradeoffers.hide_message):e.text(""+SIHLang.tradeoffers.show_message)})})}function P(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".btn_report"),r=$J(t).find(".sih_tradeoffer_header");setTimeout(function(){$J(a).appendTo(r)},1)})}function M(){$J(".tradeoffer").each(function(e,t){var a=$J(t).find(".tradeoffer_footer");$J(a).each(function(e,a){var r=$J(a).contents().filter(function(){return 3===this.nodeType})[1].nodeValue;$J(t).find(".sih_user").append('<span class="tradeoffer_expiries text text_tiny">'+r+"</span>")})})}function H(){setTimeout(function(){var e=0;$J(".tradeoffer_item_list").each(function(t,a){e=$J(a).find(".trade_item").length;var r=void 0;$J(location).attr("pathname").includes("sent")?t%2==0?(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):t%2==0?(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(r=$J(a).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(r).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>"))})},1)}function F(){var e=0,t=[];return($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".tradeoffer_item_list").each(function(a,r){if(0===$J(r).find(".trade_item").length)e=0,t.push(e);else{e=0;var i=RegExp("[0-9]*[.,]?[0-9]+");$J(r).children(".trade_item").find(".price_flag").each(function(t,a){if($J(a).hasClass("steam")||$J(a).hasClass("dmarket")||$J(a).hasClass("buff163")||$J(a).hasClass("bitskins")||$J(a).hasClass("skinport")||$J(a).hasClass("mannco")){var r=$J(a).data("price");r=r.match(i),e+=+r}}),t.push(e.toFixed(2))}}),t}function T(){$J(".sih_tradeoffer_header").each(function(e,t){var r=$J(t).find(".btn_report");if(1===r.length){var i=r.attr("onclick").match(/'(\d*)',\s"(.+)"/),n=i[2],s=n.match(/\\u[\w\d]{4}/g);$J(t).find(".tradeoffer_header").prepend('<span class="text">'+(s?a.i(B.getHexFromUnicode)(n,s):n)+"</span>")}})}function A(){$J(location).attr("href").includes("sent")||$J(".tradeoffer_header").each(function(e,t){$J(t).contents().filter(function(){return 3===this.nodeType}).remove()})}function O(){setTimeout(function(){$J(".tradeoffer").each(function(e,t){1===$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="sih_inactive"></div>')}),$J(".tradeoffer").mouseenter(function(){$J(this).find(".sih_inactive").css("opacity",0),$J(this).find(".tradeoffer_items_ctn").removeClass("inactive"),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",6),$J(this).find(".sih_user").css("z-index",6),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",7)}),$J(".tradeoffer").mouseleave(function(){$J(this).find(".sih_inactive").css("opacity",.5),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",0),$J(this).find(".sih_user").css("z-index",0),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",0)})},100)}function E(){$J(".tradeoffer.minimized").each(function(e,t){var a=$J(t).find(".tradeoffer_items_banner");1===a.length&&($J(t).find(".tradeoffer_items_banner").remove(),$J(t).addClass("history"),$J(t).find(".sih_tradeoffer_footer").addClass("history"),$J(t).find(".sih_tradeoffer_footer").append(a))})}function D(){var e=$J('.sorting_tradeoffers_select option[value="new"]'),t=e.text();e.prop("selected",!0),$J("#ui-id-2-button").find(".ui-selectmenu-text").text(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.SetFlagForLoadedMarket=_,t.SetFlagForLoadedSIHMarket=v,t.GetTotalPriceForActiveMarket=F;var R=a(124),G=(a.n(R),a(72)),N=a(73),z=a(77),j=a(31),B=a(2),V=a(30),U=a(17),q=void 0,W=void 0},,,function(e,t,a){"use strict";function r(e){l(e),f(e),u(),p(),_(),v(e),h(),m(),a.i(y.b)("reload")}function i(){var e=a.i(S.GetDataFromLocalStorage)();n(),a.i(C.a)(),a.i(y.c)(),a.i(I.a)(),o(),d(),s(e.autoLoadMarketPrice)}function n(){var e=$J(location).attr("href"),t='\n    <div class="sih_filter filter">\n      <div class="filter_column">\n        <div class="filter_row">\n            <span class="text text_bold"> '+(e.includes("sent")?SIHLang.tradeoffers.filter.title_sent:SIHLang.tradeoffers.filter.title_incoming)+'</span>\n        </div>\n        <div class="filter_row filter_row--between">\n           <div class="filter_row filter--left-side">\n           </div>\n\n          <div class="filter_row">\n             <button class="filter_page minimized active">\n              <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0V2H17V0H0ZM0 6H17V4H0V6ZM0 14H17V12H0V14ZM0 10H17V8H0V10Z" fill="white"/>\n              </svg>\n            </button>\n            <button class="filter_page full">\n              <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0H18V6H0V0ZM0 8H18V14H0V8Z" fill="white"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ';e.match("privacy")||e.includes("tradetopics")||$J(".profile_leftcol").prepend(t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.i(S.GetDataFromLocalStorage)();if(!t||!t.autoLoadMarketPrice||t.autoLoadMarketPrice){t.autoLoadMarketPrice=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function o(){var e=a.i(S.GetHeightFirstRightControlsContent)();$J(".filter").height(e+10)}function d(){var e=a.i(S.GetDataFromLocalStorage)();if(!e.markets||e.markets){var t=a.i(S.GetMarkets)();e.markets=t||[];var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={};a.i(S.GetLimitedTradeofferList)().find(".trade_item").each(function(t,a){a.rgItem&&ExternalPrices[a.rgItem.appid]&&(r=Object.assign(r,ExternalPrices[a.rgItem.appid].apis.find(function(t){return t.name.toLowerCase()===e})),0===Object.keys(r).length&&(r=Object.assign(r,ExternalPrices[730].apis.find(function(t){return t.name.toLowerCase()===e}))))}),a.i(S.GetAllPrice)(null,!1,!0,r,t)}function l(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,a){$J(a).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,a){if(0!==$J(a).children(".tradeoffer_item_list").find(".trade_item").length){var r=[],i=$J(a).find(".price_flag");$J(i).each(function(e,t){if(!$J(t).hasClass("original")){var a=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==r.length&&r.includes(a)||r.push(a)}});var n=$J(a).find(".sih_lot_item");$J(n).each(function(t,a){1===t&&($J(a).find(".icon").remove(),$J(r).each(function(t,r){e.toLowerCase()===r?$J(a).append('<span class="icon '+r+'"></span>'):$J(a).prepend('<span class="icon '+r+'"></span>')}))})}})})}function f(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,a){var r=[];$J(a).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,i){if(0!==$J(i).children(".tradeoffer_item_list").find(".trade_item").length){var n=$J(i).find(".price_flag");$J(n).each(function(e,t){if(!$J(t).hasClass("original")){var a=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==r.length&&r.includes(a)||r.push(a)}});var s=$J(a).find(".sih_tradeoffer_items_rule_price");$J(s).each(function(a,i){t===a&&($J(i).find(".icon").remove(),$J(r).each(function(t,a){e.toLowerCase()===a?$J(i).children(".row").children(".icons").append('<span class="icon '+r[t]+'"></span>'):$J(i).children(".row").children(".icons").prepend('<span class="icon '+r[t]+'"></span>')}))})}})})}function p(){var e=a.i(g.GetTotalPriceForActiveMarket)();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_lot").each(function(t,a){0!==$J(a).parent().find(".trade_item").length&&$J(a).find(".sih_lot_item").each(function(a,r){if(1===a){$J(r).find(".text").remove();var i=$.Currency.getPriceFromCurrency(+e[t],currencyId,currencyId).text;$J(r).append('<span class="text">'+i+"</span>")}})})}function u(){var e=a.i(g.GetTotalPriceForActiveMarket)();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_tradeoffer_items_rule_price").each(function(t,a){$J(a).find(".rule_total_price").remove();var r=$.Currency.getCurrency(currencyId),i=(+e[t]).toLocaleString("ru-RU").replace(/,/,".").trim(),n=i.split(".");$J(a).children(".row").append('<div class="rule_total_price" data-total-price="'+e[t]+'"><span class="text">'+n[0]+"</span></div>"),n.length>1&&$J(a).children(".row").find(".rule_total_price").append('<span class="text text_light">.'+n[1]+"</span>"),r.bSymbolIsPrefix?$J(a).children(".row").find(".rule_total_price").prepend('<span class="text">'+r.strSymbol+" </span>"):$J(a).children(".row").find(".rule_total_price").append('<span class="text"> '+r.strSymbol+"</span>")})}function _(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(e,t){var a=[],r=void 0,i=void 0;$J(t).find(".rule_total_price").each(function(e,t){var r=$J(t).data().totalPrice;a.push(+r)});var n=$J(t).find(".sih_tradeoffer_items_rule_percent");if($J(n).find(".text").remove(),$J(n).hasClass("normal")?$J(n).removeClass("normal"):$J(n).hasClass("profit")?$J(n).removeClass("profit"):$J(n).hasClass("lose")&&$J(n).removeClass("lose"),$J(location).attr("href").includes("sent"))if(0===a[0]&&0===a[1])$J(n).prepend('<span class="text rule-percent">0</span>'),$J(n).attr("data-profit-price","0"),$J(n).attr("data-profit-percent","0");else if(0===a[0]){r=100,n.addClass("profit"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var s=$.Currency.getPriceFromCurrency(+a[1],currencyId,currencyId).text;$J(n).attr("data-profit-price",""+s),$J(n).attr("data-profit-percent",""+Math.abs(r))}else if(0===a[1]){r=-100,n.addClass("lose"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var o=$.Currency.getPriceFromCurrency(+a[0],currencyId,currencyId).text;$J(n).attr("data-profit-price","-"+o),$J(n).attr("data-profit-percent",""+Math.abs(r))}else{i=100*a[1]/a[0]-100,r=i,$J(n).prepend('<span class="text rule-percent">'+Math.abs(r.toFixed(2))+"%</span>");var d=$.Currency.getPriceFromCurrency(+(a[1]-a[0]).toFixed(2),currencyId,currencyId).text;$J(n).attr("data-profit-price",""+d),$J(n).attr("data-profit-percent",""+Math.abs(r)),r>3?($J(n).find(".text").text(Math.abs(r.toFixed(2))+"%"),$J(n).attr("data-profit-percent",""+Math.abs(r)),$J(n).addClass("profit")):r<-3?$J(n).addClass("lose"):r>-3&&r<3&&$J(n).addClass("normal")}else if(0===a[0]&&0===a[1])$J(n).prepend('<span class="text rule-percent">0</span>'),$J(n).attr("data-profit-price","0"),$J(n).attr("data-profit-percent","0");else if(0===a[1]){r=100,n.addClass("profit"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var c=$.Currency.getPriceFromCurrency(+a[0],currencyId,currencyId).text;$J(n).attr("data-profit-price",""+c),$J(n).attr("data-profit-percent",""+Math.abs(r))}else if(0===a[0]){r=-100,n.addClass("lose"),$J(n).prepend('<span class="text rule-percent">'+Math.abs(r)+"%</span>");var l=$.Currency.getPriceFromCurrency(+a[1],currencyId,currencyId).text;$J(n).attr("data-profit-price","-"+l),$J(n).attr("data-profit-percent",""+Math.abs(r))}else{i=100*a[0]/a[1]-100,r=i,$J(n).prepend('<span class="text rule-percent">'+Math.abs(r.toFixed(2))+"%</span>");var f=$.Currency.getPriceFromCurrency(+(a[0]-a[1]).toFixed(2),currencyId,currencyId).text;$J(n).attr("data-profit-price",""+f),$J(n).attr("data-profit-percent",""+Math.abs(r)),r>3?($J(n).find(".text").text(Math.abs(r.toFixed(2))+"%"),$J(n).addClass("profit")):r<-3?$J(n).addClass("lose"):r>-3&&r<3&&$J(n).addClass("normal")}})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=$J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer"),a=RegExp("[0-9]*[.,]?[0-9]+");t.each(function(t,r){$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,i){var n={};if(0!==$J(i).children(".tradeoffer_item_list").find(".trade_item").length){var s=$J(i).find(".price_flag");$J(s).each(function(e,t){if($J(t).hasClass("steam")||$J(t).hasClass("dmarket")||$J(t).hasClass("buff163")||$J(t).hasClass("bitskins")||$J(t).hasClass("skinport")||$J(t).hasClass("mannco")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim(),i=t.dataset.price.match(a);if(n[r]||Object.keys(n)==r)n[r].price+=+i,n[r].count++;else{var s;n=Object.assign(n,(s={},s[r]={price:+i,count:1},s))}}});var o=$J(r).find(".sih_tradeoffer_items_rule_price");$J(o).each(function(a,r){if(t===a){$J(r).find(".tooltip").remove(),$J(r).append('\n              <div class="tooltip">\n                <div class="tooltip-title">'+SIHLang.tradeoffers.cost+'</div>\n                <div class="tooltip-column"></div>\n              </div>\n              ');var i=$J(r).find(".tooltip .tooltip-column");for(var s in n){var o=$.Currency.getPriceFromCurrency(+n[s].price.toFixed(2),currencyId,currencyId).text;s===e?i.prepend('<div class="tooltip-row"> <span >'+SIHLang.tradeoffers.items+" "+n[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>"):i.append('<div class="tooltip-row"> <span>'+SIHLang.tradeoffers.items+" "+n[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>")}}})}})})}function h(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent");a.find(".profit_info").remove();var r=void 0;r=$J(a[0]).data()?a[0].dataset.profitPrice:0,a.hasClass("profit")?a.append('<span class="profit_info">+'+r+"</span>"):a.append('<span class="profit_info">'+r+"</span>")})}function m(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(e,t){var a=$J(t).find(".sih_tradeoffer_items_rule_percent"),r=$J(t).find(".accept_trade");r.find(".profit-price").remove();var i=void 0;i=$J(a[0]).data()?a[0].dataset.profitPrice:0,a.hasClass("profit")?r.append('<span class="profit-price profit">+'+i+"</span>"):r.append('<span class="profit-price lose">'+i+"</span>")})}Object.defineProperty(t,"__esModule",{value:!0}),t.AfterResponse=r,t.load=i,t.SetStateAutoLoadMarketPriceToLocalStorage=s,t.SetPriceForItemsActiveMarket=c;var J=a(113),g=(a.n(J),a(3)),$=a(0),S=a(2),I=a(75),y=a(17),C=a(74)},,,,,,,,,,,function(e,t,a){"use strict";function r(){n(),s(),o()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request",t=arguments[1],a=$J(".sih_tradeoffer.single_price_loaded"),r=$J(".filter_load-price-market");if(0!==a.length||window.location.href.includes("history")){a.find(".sih_tradeoffer_footer").find(".sih_load_price_single").each(function(t,a){var r=$J(a);r.hasClass("reload")||"reload"!==e||(r.addClass("reload"),r.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(r.removeClass("reload"),r.text(SIHLang.market.requestPrice))})}else{var i=$J(".sih_tradeoffer_footer").find(".sih_load_price_single");r.hasClass("reload")||"reload"!==e||(r.addClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload),i.addClass("reload"),i.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(r.removeClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice),i.removeClass("reload"),i.text(SIHLang.market.requestPrice))}t&&("reload"===e?(r.addClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload)):(r.removeClass("reload"),r.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice)))}function n(){var e=$J(".sih_filter"),t=a.i(l.GetDataFromLocalStorage)(),r='\n    <div class="filter_load-price">\n                <a href="javascript:void(0)" class="filter_switcher-load-price '+(t.autoLoadMarketPrice?"on":"")+'"></a>\n                <a href="javascript:void(0)" class="filter_load-price-market">\n                <span class="text text_tiny filter_load-price-market--text">'+SIHLang.market.requestPrice+'</span>\n                <span class="text text_tiny--fs7 filter_auto-load-price '+(t.autoLoadMarketPrice?"text_green":"")+'">'+(t.autoLoadMarketPrice?""+SIHLang.market.auto:""+SIHLang.market.manual)+"</span>\n                </a>\n    </div>\n  ";e.find(".filter_price").before(r)}function s(){$J(".filter").find(".filter_switcher-load-price").off("click").click(function(){var e=$J(".filter_load-price-market"),t=$J(this);t.toggleClass("on"),e.children(".filter_auto-load-price").toggleClass("text_green"),t.hasClass("on")?e.children(".filter_auto-load-price").text(""+SIHLang.market.auto):e.children(".filter_auto-load-price").text(""+SIHLang.market.manual);var r=a.i(l.GetDataFromLocalStorage)();a.i(p.SetStateAutoLoadMarketPriceToLocalStorage)(!r.autoLoadMarketPrice)})}function o(){$J(".filter").find(".filter_load-price-market").off("click").click($J.debounce(250,function(){$J(this).hasClass("reload")?(SteamBySihSource._cache={},MarketplaceSource._cache={},$J(".sih_tradeoffer.single_price_loaded").each(function(e,t){$J(t).hasClass("active_single_trade")||$J(t).addClass("active_single_trade")})):i("reload",!0),a.i(l.GetDataFromLocalStorage)().autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),a.i(f.SetFlagForLoadedSIHMarket)(),a.i(f.SetFlagForLoadedMarket)(),a.i(l.AddPreloadersAndHideBlocks)(),a.i(l.GetAllPrice)()}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){e.find(".trade_item").each(function(e,t){if(t.rgItem){var a=t.rgItem.market_hash_name;Object.values(MarketplaceSource._cache).forEach(function(e){Object.values(e).forEach(function(e){e[a]&&delete e[a]})}),Object.values(SteamBySihSource._cache.steam).forEach(function(e){e[a]&&delete e[a]})}})}}t.c=r,t.b=i,t.a=d;var c=a(115),l=(a.n(c),a(2)),f=a(3),p=a(6)},,,,,,,,,,,,,function(e,t,a){"use strict";function r(){i(),setTimeout(function(){n()},100)}function i(){$J(".tradeoffer_footer").each(function(){var e=$J(this).html(),t=e.replace(/\|/," ");$J(this).html(t)}),$J(".tradeoffer_footer").contents().filter(function(){return 3===this.nodeType}).remove(),$J(".tradeoffer_footer").addClass("sih sih_tradeoffer_footer minimized"),$J(location).attr("pathname").includes("sent")||$J(".tradeoffer_footer_actions").append('<a class="accept_trade whiteLink" href="javascript:void(0);"><span>'+SIHLang.tradeoffers.fast_accept+"</span></a>");o.localStorageJSON.get("SIH_TRADEOFFER_ACTIVE_MODE");0===$J(".tradeoffer_footer").find(".tradeoffer_footer_actions").length&&$J(".tradeoffer_footer").prepend('<div class="tradeoffer_footer_actions"></div>')}function n(){var e=$J(".tradeoffer_footer");0===e.find(".sih_load_price_single").length&&e.find(".tradeoffer_footer_actions").prepend("<a href='javascript:void(0)' class=\"whiteLink tradeoffer_footer_actions sih_load_price_single\">"+SIHLang.market.requestPrice+"</a>"),e.find(".sih_load_price_single").click($J.debounce(250,function(){var e=$J(this);if(e.hasClass("reload")){var t=e.parent().parent().parent();a.i(l.a)(t)}else e.addClass("reload"),e.text(SIHLang.tradeoffers.filter.reload);$J(".sih_tradeoffer").removeClass("active_single_trade");var r=e.parent().parent().parent();r.addClass("single_price_loaded active_single_trade"),a.i(d.SetFlagForLoadedSIHMarket)(),a.i(d.SetFlagForLoadedMarket)(),a.i(c.AddPreloadersAndHideBlocks)(r),a.i(c.GetAllPrice)(null,!1,!0,{name:"Steam",sort:13},r)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.RenderLoadMarketPriceManualSingle=n;var s=a(117),o=(a.n(s),a(0)),d=a(3),c=a(2),l=a(17)},function(e,t,a){"use strict";function r(){n(),c()}function i(){setTimeout(function(){s(),o(),d()},100)}function n(){$J(".tradeoffer_items_ctn").addClass("sih_tradeoffer_items_ctn"),$J(".tradeoffer_items").addClass("sih_tradeoffer_items"),$J(".trade_item").addClass("sih_trade_item item");$J(".trade_item").append('\n  <div class="p-price"></div>\n  <span class="animated-background small fake-price"></span>\n  ')}function s(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").each(function(e,t){e>=3&&$J(t).addClass("hidden"),3===e&&$J(t).after('\n            <div class="sih_trade_item show-items">\n                <div class="item_row">\n                   <span class="text text_grey count-items"></span>\n                </div>\n                <div class="item_row">\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                </div>\n            </div>\n          ')})})}function o(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){var a=$J(t).find(".trade_item.hidden");$J(t).find(".count-items").text("+"+a.length)})}function d(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".show-items").click(function(){var e=this,t=$J(this).parent().parent().parent().find(".trade_item.hidden");$J(this).parent().parent().parent().find(".show-items").remove(),t.each(function(t,a){$J(a).hasClass("hidden")&&($J(a).removeClass("hidden"),$J(e).remove())})})})}function c(){$J(".sih_tradeoffer").find(".tradeoffer_item_list div").each(function(e,t){var a=$J(t);[a.attr("style")].includes("clear: left;")&&a.remove()})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r,t.ModifyItemList=i;var l=a(118);a.n(l)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(){i()}function i(){var e=a.i(s.GetLimitedTradeofferList)();e.each(function(e,t){var a=$J(t).find(".tradeoffer_items_rule");0===a.length?$J(t).append('<div class="tradeoffer_items_rule sih_tradeoffer_items_rule"></div>'):a.addClass("sih_tradeoffer_items_rule")});$J(".sih_tradeoffer_items_rule").append('\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n     </div>\n   </div>\n   <div class="sih_tradeoffer_items_rule_percent">\n   </div>\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n      </div>\n   </div>\n  '),e.find(".sih_tradeoffer_items_rule_price").append('<span class="animated-background"></span>'),e.find(".sih_tradeoffer_items_rule_percent").append('<div class="animated-background-profit"></div>')}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var n=a(119),s=(a.n(n),a(2))},function(e,t,a){"use strict";function r(){i(),n()}function i(){var e=a.i(o.GetLimitedTradeofferList)(),t='\n        <div class="row">\n            <div class="sih_lot_item">\n                <span class="icon default"></span>\n                <a href="javascript:void(0);" class="offer_price text text_blue">'+SIHLang.tradeoffers.load_prices+'</a>\n            </div>\n            <div class="sih_lot_item">\n                <span class="icon"></span>\n                <span class="text"></span>\n            </div>\n        </div>';$J(".tradeoffer_items_header").addClass("sih sih_lot"),$J(".sih_lot").append(t),e.find(".sih_lot_item .icon").after('<span class="animated-background small"></span>')}function n(){$J(".tradeoffer_item_list").each(function(e,t){var a=0;a=$J(t).find(".trade_item").length,$J(t).parent().children(".sih_lot").children(".row").each(function(e,t){$J(t).prepend('<span class="text">'+SIHLang.tradeoffers.lots+" - "+a+" |</span>")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var s=a(120),o=(a.n(s),a(2))},function(e,t,a){"use strict";function r(e){var t='\n    <div class="sih_panel_mode row">\n      <div class="sih_bg"></div>\n      <div class="sig_status_container">\n       <a href="javascript:void(0)" class="sih_status_button '+(e?"on":"off")+'" data-enabled="'+e+'">\n                <div class="sih_status_icon"></div>\n                <div class="sih_status_text">SIH '+(e?"ON":"OFF")+'</div>\n      </a>\n\n        <a href="#" class="sih_help_button hidden">\n          <span class="sih_help_icon"></span>\n        </a>\n      </div>\n    </div>';$J(".profile_small_header_texture").append(t),$J(".sih_panel_mode").fadeIn("slow"),$J(".sih_status_button").click(function(){var e=$J(this).data("enabled");SetCookie(COOKIE_ENABLED_SIH,!e,365,"tradeoffers"),window.location.reload()})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadHtml=r;var i=a(121);a.n(i)},function(e,t,a){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.load=r;var i=a(122);a.n(i)},,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(){return'\n<div class="fake-tradeoffer fake-tradeoffer-full" >\n    <div class="header">\n       <div class="user">\n       <div class="row">\n         <div class="avatar"></div>\n           <div class="column">\n              <span class="text"></span>\n           </div>\n       </div>\n        <span class="text"></span>\n       </div>\n       <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="profit"></div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n       <div class="report"></div>\n\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="spliter">\n        <div class="line"></div>\n        <div class="circle"></div>\n        <div class="line"></div>\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="footer">\n      <div class="button"></div>\n      <div class="button"></div>\n      <div class="button"></div>\n    </div>\n</div>\n '}t.a=r;var i=a(111);a.n(i)},function(e,t,a){"use strict";function r(){return'\n<div class="fake-tradeoffer fake-tradeoffer-minimized" >\n    <div class="header">\n        <div class="user">\n            <div class="row">\n              <div class="avatar"></div>\n              <div class="column">\n                <span class="text"></span>\n                <span class="text"></span>\n                <span class="text"></span>\n              </div>\n            </div>\n\n        </div>\n        <div class="rule">\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n        </div>\n    </div>\n    <div class="items">\n      <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n       <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n    </div>\n    <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n    </div>\n</div>\n '}t.a=r;var i=a(112);a.n(i)},function(e,t,a){"use strict";function r(){var e=a.i(c.GetDataFromLocalStorage)();i(),o(e.market),s(e.market),n()}function i(){$J(".sih_filter").find(".filter--left-side").append('\n       <div class="filter_price">\n                  <select class="filter_price_select"></select>\n       </div>\n  '),a.i(c.GetMarkets)().forEach(function(e){$J(".filter_price_select").append('<option class="filter_price_option '+e+'"><span>'+("steam"===e?"Steam (bySIH)":e)+"</span></option>")}),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var a=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),r=$J("<div>",{text:t.label});return t.disabled&&a.addClass("ui-state-disabled"),a.append(r).appendTo(e)}}),$J(".filter_price_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("filter_price_widget_content")}}})}function n(){$J("#ui-id-1-button").click(function(){var e=a.i(c.GetDataFromLocalStorage)();$J(".filter_price_widget_content").find(".filter_price_option").each(function(t,r){$J(r).off("click").click(function(){var t=$J(this).attr("class").replace(/ui-menu-item|filter_price_option/g,"").trim();o(t),s(t),"steam"===t&&a.i(l.SetFlagForLoadedSIHMarket)(),e.autoLoadMarketPrice&&(a.i(l.SetFlagForLoadedMarket)(),a.i(c.AddPreloadersAndHideBlocks)(),setTimeout(function(){a.i(f.SetPriceForItemsActiveMarket)(t)},100))})})})}function s(e){setTimeout(function(){$J("#ui-id-1-button").find(".ui-selectmenu-text").addClass(e)},1)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=a.i(c.GetDataFromLocalStorage)();if(!t||!t.market||t.market){t.market=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}t.a=r;var d=a(114),c=(a.n(d),a(2)),l=a(3),f=a(6)},function(e,t,a){"use strict";function r(){i(),n()}function i(){var e=$J(".sih_filter"),t='\n            <div class="sorting_tradeoffers">\n               <select class="sorting_tradeoffers_select">\n                  <option class="sorting_tradeoffers_option" value="new"><span>'+SIHLang.tradeoffers.filter.sort.time_new+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="old"><span>'+SIHLang.tradeoffers.filter.sort.time_old+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_desc"><span>'+SIHLang.tradeoffers.filter.sort.profit_desc+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_asc"><span>'+SIHLang.tradeoffers.filter.sort.profit_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_asc"><span>'+SIHLang.tradeoffers.filter.sort.name_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_desc"><span>'+SIHLang.tradeoffers.filter.sort.name_desc+"</span></option>\n               </select>\n             </div>\n";e.find(".filter_load-price").before(t),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var a=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),r=$J("<div>",{text:t.label});return t.disabled&&a.addClass("ui-state-disabled"),p()||"profit_desc"!==t.value&&"profit_asc"!==t.value||r.append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>"),a.append(r).appendTo(e)}}),$J(".sorting_tradeoffers_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("sorting_tradeoffers_widget_content")}}})}function n(){$J(".sih_filter").find("#ui-id-2-button").click(function(){$J(".sorting_tradeoffers_widget_content").find(".sorting_tradeoffers_option").each(function(e,t){var a=$J(t),r=p();"profit_desc"!==a.attr("value")&&"profit_asc"!==a.attr("value")||(r?a.find(".sih_need-load-price").remove():0===a.find(".sih_need-load-price").length&&a.find(".ui-menu-item-wrapper").append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>")),a.off("click").click(function(){switch($J(this).attr("value")){case"new":s(-1);break;case"old":s(1);break;case"profit_desc":o(-1);break;case"profit_asc":o(1);break;case"name_asc":window.location.href.includes("sent")?c(1):d(1);break;case"name_desc":window.location.href.includes("sent")?c(-1):d(-1)}})})})}function s(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).attr("id").substring(13)||0,i=$J(a).attr("id").substring(13)||0;return+r>+i?1*e:+r<+i?-1*e:0}),a.detach().appendTo(t)}function o(e){var t=$J(".tradeoffer_list"),r=$J(".sih_tradeoffer"),i=p(),n=a.i(_.GetDataFromLocalStorage)();if(i||n.isMarketLoaded||n.isSteamBySIHLoaded)r.sort(function(t,a){var r=$J(t).find(".sih_tradeoffer_items_rule_percent"),i=$J(a).find(".sih_tradeoffer_items_rule_percent"),n=(r.hasClass("lose")?-r.attr("data-profit-percent"):+r.attr("data-profit-percent"))||0,s=(i.hasClass("lose")?-i.attr("data-profit-percent"):+i.attr("data-profit-percent"))||0;return n>s?1*e:n<s?-1*e:0}),r.detach().appendTo(t);else{if(!n.autoLoadMarketPrice&&window.location.href.includes("history")){var s=$J(".sih_tradeoffer");s.length>10&&(s.length=10),s.each(function(e,t){$J(t).addClass("active_single_trade single_price_loaded")})}n.autoLoadMarketPrice||$J(".sih_tradeoffer").removeClass("active_single_trade single_price_loaded"),a.i(v.SetFlagForLoadedSIHMarket)(),a.i(v.SetFlagForLoadedMarket)(),a.i(_.AddPreloadersAndHideBlocks)(),a.i(_.GetAllPrice)();var d=setInterval(function(){var t=a.i(_.GetDataFromLocalStorage)();t.isMarketLoaded&&t.isSteamBySIHLoaded&&"steam"!==t.market&&(clearInterval(d),setTimeout(function(){return o(e)},300)),t.isSteamBySIHLoaded&&"steam"===t.market&&(clearInterval(d),setTimeout(function(){return o(e)},300))},100)}}function d(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).find(".btn_report"),i=$J(a).find(".btn_report"),n=l(r),s=l(i);return 1===e?n.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(n.toUpperCase())}),a.detach().appendTo(t)}function c(e){var t=$J(".tradeoffer_list"),a=$J(".sih_tradeoffer");a.sort(function(t,a){var r=$J(t).find(".tradeoffer_items.secondary .sih_lot"),i=$J(a).find(".tradeoffer_items.secondary .sih_lot"),n=f(r),s=f(i);return 1===e?n.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(n.toUpperCase())}),a.detach().appendTo(t)}function l(e){if(1===e.length){var t=e.attr("onclick").match(/'(\d*)',\s"(.+)"/),r=t[2],i=r.match(/\\u[\w\d]{4}/g);return i?a.i(_.getHexFromUnicode)(r,i):r}}function f(e){if(1===e.length){return e.contents()[0].data}}function p(){var e=$J(".sih_tradeoffer"),t=!1;return e.find(".sih_tradeoffer_items_rule_percent").each(function(e,a){$J(a).attr("data-profit-percent")&&(t=!0)}),t}t.a=r;var u=a(116),_=(a.n(u),a(2)),v=a(3)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),i=a(56),n=a(6),s=a(3),o=a(31),d=a(55),c=a(54),l=a(30),f=a(0),p=a(57);a.d(t,"profileHeader",function(){return p}),a.d(t,"common",function(){return r}),a.d(t,"panelMode",function(){return i}),a.d(t,"filter",function(){return n}),a.d(t,"tradeoffer",function(){return s}),a.d(t,"items",function(){return o}),a.d(t,"lots",function(){return d}),a.d(t,"itemsRule",function(){return c}),a.d(t,"footer",function(){return l}),a.d(t,"global",function(){return f})},function(e,t,a){"use strict";function r(){$J(".tradeoffer_items.primary").after('\n  <div class="sih_spliter">\n      <div class="horizontal_line"></div>\n      <div class="arrows"></div>\n      <div class="horizontal_line"></div>\n  </div>\n  ')}t.a=r;var i=a(123);a.n(i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);